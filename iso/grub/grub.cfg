# PhantomOS GRUB Configuration
# "To Create, Not To Destroy"

# Enable serial console for debugging
serial --unit=0 --speed=115200
terminal_input serial console
terminal_output serial console

# Request graphical framebuffer
set gfxmode=1024x768x32
set gfxpayload=1024x768x32

# Set timeout and default entry
set timeout=0
set default=0

# Main menu entry (graphical mode)
menuentry "PhantomOS" {
    echo "Loading PhantomOS kernel..."
    set gfxpayload=1024x768x32
    multiboot2 /boot/phantomos.elf
    echo "Booting..."
    boot
}

# Debug entry with serial console
menuentry "PhantomOS (Serial Debug)" {
    echo "Loading PhantomOS kernel (debug mode)..."
    multiboot2 /boot/phantomos.elf debug
    echo "Booting..."
    boot
}

# Recovery/info entry
menuentry "System Information" {
    echo "PhantomOS Boot Information"
    echo "=========================="
    echo ""
    echo "Kernel: phantomos.elf"
    echo "Boot: Multiboot2"
    echo "Architecture: x86_64"
    echo ""
    echo "Press any key to return to menu..."
    read
}
